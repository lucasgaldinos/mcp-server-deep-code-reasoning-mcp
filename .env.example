# ============================================================================
# Environment Configuration for Deep Code Reasoning MCP Server
# ============================================================================
# Copy this file to .env and configure the required values

# ============================================================================
# REQUIRED CONFIGURATION
# ============================================================================

# Google Gemini API Configuration (REQUIRED)
# Get your API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Node.js Environment
NODE_ENV=development

# Server Identity
MCP_SERVER_NAME=deep-code-reasoning-mcp
MCP_SERVER_VERSION=0.1.0

# Request Handling
REQUEST_TIMEOUT=30000
MAX_CONCURRENT_REQUESTS=5

# ============================================================================
# GEMINI AI MODEL CONFIGURATION
# ============================================================================

# Model Selection
GEMINI_MODEL=gemini-2.5-pro-preview-06-05
GEMINI_API_VERSION=v1beta

# Model Parameters
GEMINI_TEMPERATURE=0.2
GEMINI_TOP_K=1
GEMINI_TOP_P=1
GEMINI_MAX_OUTPUT_TOKENS=132000

# Conversational Model Parameters
GEMINI_CONVERSATION_TEMPERATURE=0.3
GEMINI_CONVERSATION_MAX_TOKENS=132000

# Context Window
MAX_CONTEXT_SIZE=1000000

# ============================================================================
# ANALYSIS CONFIGURATION
# ============================================================================

# Analysis Depth Controls
DEFAULT_ANALYSIS_DEPTH=3
MAX_ANALYSIS_DEPTH=5
MAX_EXECUTION_PATHS=10
MAX_PERFORMANCE_CHECKS=20

# Code Reading Limits
MAX_FILE_SIZE_BYTES=1048576
MAX_FILES_PER_REQUEST=50
ALLOWED_FILE_EXTENSIONS=.ts,.js,.tsx,.jsx,.py,.java,.c,.cpp,.h,.hpp,.cs,.php,.rb,.go,.rs,.swift,.kt

# Hypothesis Testing
MAX_HYPOTHESES_PER_TOURNAMENT=10
HYPOTHESIS_CONFIDENCE_THRESHOLD=0.7

# ============================================================================
# CIRCUIT BREAKER & RETRY CONFIGURATION
# ============================================================================

# Gemini API Resilience
GEMINI_MAX_RETRIES=3
GEMINI_BACKOFF_DELAY=1000
GEMINI_CIRCUIT_BREAKER_THRESHOLD=5
GEMINI_CIRCUIT_BREAKER_TIMEOUT=60000

# Rate Limiting
GEMINI_REQUESTS_PER_MINUTE=60
GEMINI_BURST_LIMIT=10

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log Levels: error, warn, info, debug, trace
LOG_LEVEL=info

# Log Destinations
LOG_TO_CONSOLE=true
LOG_TO_FILE=false
LOG_FILE=logs/mcp-server.log
LOG_MAX_FILE_SIZE=10485760
LOG_MAX_FILES=5

# Debug Settings
ENABLE_DEBUG_LOGGING=false
ENABLE_PERFORMANCE_LOGGING=false
ENABLE_PROMPT_LOGGING=false

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# Code Access Security
SECURE_CODE_READING=true
ALLOWED_PATHS=/home,/Users,/workspace,/project
BLOCKED_PATHS=/etc,/root,/sys,/proc

# Prompt Security
ENABLE_PROMPT_SANITIZATION=true
MAX_PROMPT_LENGTH=100000

# Session Security
SESSION_TIMEOUT=3600000
MAX_ACTIVE_SESSIONS=100

# ============================================================================
# PERFORMANCE MONITORING
# ============================================================================

# Health Checks
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
ENABLE_MEMORY_MONITORING=true
MEMORY_USAGE_THRESHOLD=0.8

# Performance Metrics
ENABLE_METRICS_COLLECTION=true
METRICS_EXPORT_INTERVAL=60000

# ============================================================================
# CONVERSATIONAL ANALYSIS
# ============================================================================

# Session Management
CONVERSATION_SESSION_TIMEOUT=1800000
MAX_CONVERSATION_TURNS=50
CONVERSATION_HISTORY_LIMIT=20

# Analysis Continuation
ANALYSIS_BUDGET_DEFAULT=100
MIN_ANALYSIS_BUDGET=10

# ============================================================================
# DEVELOPMENT & TESTING
# ============================================================================

# Development Mode Settings
ENABLE_DEV_MODE=false
MOCK_GEMINI_RESPONSES=false
ENABLE_TOOL_VALIDATION=true

# Testing Configuration
TEST_API_KEY=test-key-for-unit-tests
ENABLE_INTEGRATION_TESTS=false

# ============================================================================
# OPTIONAL FEATURES
# ============================================================================

# Advanced Analysis Features
ENABLE_CROSS_SYSTEM_ANALYSIS=true
ENABLE_EXECUTION_TRACING=true
ENABLE_HYPOTHESIS_TOURNAMENTS=true

# Experimental Features
ENABLE_EXPERIMENTAL_FEATURES=false
EXPERIMENTAL_FEATURE_FLAGS=